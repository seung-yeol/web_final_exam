var Note={$wrap:$(document.body),storageKey:"note"};!function(t){t.util={uniqId:function(){return(new Date).getTime()},storage:{load:function(){return console.log("storage.load()"),JSON.parse(localStorage.getItem(t.storageKey)||"[]")},save:function(e){console.log("storage.save()"),localStorage.setItem(t.storageKey,JSON.stringify(e))}}},t.$wrap.on("addNote",t.util.storage.save),t.$wrap.on("removeNote",t.util.storage.save)}(Note),function(t,e){var o;t.data={set:function(e){o=e,t.util.storage.save(o)},toJSON:function(){return o}}}(Note,jQuery),function(t){t.download={start:function(){var e=new Blob([t.util.storage.load()],{type:"text/plain;charset=utf-8"});saveAs(e,"note_content.txt"),console.log("다운로드")}}}(Note),function(t,e){var o=t("#memo");e.view={addNote:function(t){e.data.set(o.val()),console.log("저장")}}}(jQuery,Note),function(){var t={};this.tmpl=function e(o,n){var a=/\W/.test(o)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+o.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):t[o]=t[o]||e(document.getElementById(o).innerHTML);return n?a(n):a}}(),function(t,e,o){var n=t(".btn-newnote"),a=t(".btn-savenote"),r=t(".btn-downloadnote"),l=t(".btn-fullscreen"),i=t("#memo");n.click(function(){i.val("")}),a.click(function(){o.data.set(i.val())}),r.click(function(){o.download.start()}),l.click(function(){screenfull.request()});var s=o.util.storage.load();s&&(console.log(s),i.val(s))}(jQuery,window,Note);